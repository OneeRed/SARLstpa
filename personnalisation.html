<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personnalisation - Solutions sur mesure | STPA</title>
    <link rel="icon" href="./images/logo-fhoIae-r.png" type="image/x-icon">
    <!-- Render All Elements Normally -->
    <link rel="stylesheet" href="css/normalize.css">
    <!-- Font Awesome Library -->
    <link rel="stylesheet" href="css/all.min.css">
    <!-- main Template CSS File  -->
    <link rel="stylesheet" href="css/redouane.css">
    <!-- Google Fonts  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&family=Open+Sans:ital,wght@0,300..800&display=swap" rel="stylesheet">
    

</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <!-- Main navigation -->
            <div class="main-nav">
                <div class="logo">
                    <img src="images/Image1-DMEFS89n.svg" alt="">
                </div>
                <nav class="nav-menu" id="navMenu">
                    <a href="./index.html" class="nav-link">Accueil</a>
                    <a href="./apropos.html" class="nav-link">À propos</a>
                    <div class="nav-item">
                        <a href="#produits" class="nav-link">
                            Produits
                            <i class="fas fa-chevron-down"></i>
                        </a>
                        <div class="dropdown-menu">
                            <a href="./big-bags.html" class="dropdown-link">Big Bags</a>
                            <a href="./produits-intermediaires.html" class="dropdown-link">Produits intermédiaires</a>
                            <a href="./personnalisation.html" class="dropdown-link">Personnalisation</a>
                        </div>
                    </div>
                    <a href="./fabrication.html" class="nav-link">Fabrication</a>
                    <a href="./contact.html" class="nav-link">Contact</a>
                </nav>
                <button class="btn desktop-only" onclick="window.location.href='devis.html'">Demander un devis</button>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars" id="menuIcon"></i>
                </button>
            </div>
            <!-- Mobile Navigation -->
            <nav class="mobile-nav" id="mobileNav">
                <a href="./index.html" class="mobile-nav-link">Accueil</a>
                <a href="./apropos.html" class="mobile-nav-link">À propos</a>
                <div class="mobile-nav-item">
                    <a href="#produits" class="mobile-nav-link" id="mobileProduitsLink">
                        Produits
                        <i class="fas fa-chevron-down"></i>
                    </a>
                    <div class="mobile-dropdown" id="mobileDropdown">
                        <a href="./big-bags.html" class="mobile-dropdown-link">Big Bags</a>
                        <a href="./produits-intermediaires.html" class="mobile-dropdown-link">Produits intermédiaires</a>
                        <a href="./personnalisation.html" class="mobile-dropdown-link">Personnalisation</a>
                    </div>
                </div>
                <a href="./fabrication.html" class="mobile-nav-link">Fabrication</a>
                <a href="./contact.html" class="mobile-nav-link">Contact</a>
                <button class="btn mobile-cta" onclick="window.location.href='devis.html'">Demander un devis</button>
            </nav>
        </div>
    </header>

    <!-- Start Landing -->
    <div class="landing">
        <div class="dots dots-up"></div>
        <div class="dots dots-down"></div>
        <div class="container">
            <div class="text animate-on-scroll">
                <h1 class="hero-title">Personnalisation</h1>
                <p class="hero-subtitle">Créez des produits uniques adaptés à vos besoins spécifiques</p>
                <div class="hero-divider"></div>
            </div>
        </div>
        <a href="#page-section" class="go-down">
            <i class="fas fa-angle-double-down fa-2x"></i>
        </a>
    </div>
    <!-- End Landing -->

    <!-- Customization Options Section -->
    <section class="customization-section" id="page-section">
        <div class="container">
            <div class="section-header animate-on-scroll">
                <h2 class="section-title">Options de Personnalisation</h2>
                <div class="divider"></div>
                <p class="section-subtitle">Adaptez nos produits selon vos exigences techniques et visuelles</p>
            </div>
            
            <div class="customization-grid">
                <div class="customization-card animate-on-scroll">
                    <div class="customization-icon dimensions">
                        <i class="fas fa-ruler-combined"></i>
                    </div>
                    <h3 class="customization-title">Dimensions Sur Mesure</h3>
                    <p class="customization-description">
                        Adaptez les dimensions selon vos besoins spécifiques
                    </p>
                    <div class="feature-list">
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Hauteur personnalisable</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Largeur adaptable</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Profondeur variable</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Formats spéciaux disponibles</span>
                        </div>
                    </div>
                </div>
                <div class="customization-card animate-on-scroll">
                    <div class="customization-icon printing">
                        <i class="fas fa-print"></i>
                    </div>
                    <h3 class="customization-title">Impression Personnalisée</h3>
                    <p class="customization-description">
                        Ajoutez votre identité visuelle sur vos produits
                    </p>
                    <div class="feature-list">
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Logo d'entreprise</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Textes personnalisés</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Codes-barres</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Marquages réglementaires</span>
                        </div>
                    </div>
                </div>
                <div class="customization-card animate-on-scroll">
                    <div class="customization-icon technical">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3 class="customization-title">Options Techniques</h3>
                    <p class="customization-description">
                        Personnalisez les caractéristiques techniques
                    </p>
                    <div class="feature-list">
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Types de valve</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Systèmes de fermeture</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Renforts spéciaux</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle"></i>
                            <span>Traitements particuliers</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Configurator Section - MODIFIED -->
    <section class="configurator-section">
        <div class="container">
            <div class="section-header animate-on-scroll">
                <h2 class="section-title">Configurez Votre Big Bag Sur Mesure</h2>
                <div class="divider"></div>
                <p class="section-subtitle">Personnalisez votre big bag en temps réel et visualisez le résultat</p>
            </div>
            
            <div class="configurator-content">
                <div class="configurateur_image">
                    <!-- Main bag -->
                    <div class="bloc_base">
                        <img src="./images/imagesbags/sac-sac-cylindrique.png" class="img_sac" alt="Big Bag Base">
                    </div>
                    <!-- Back straps (Arrière Plan) -->
                    <div class="bloc_anse_AP" style="display: none;">
                        <img src="./images/imagesbags/sangle-sangles-decalees-AP.png" class="img_anse_AP" alt="Sangles Arrière">
                    </div>
                    <!-- Front straps -->
                    <div class="bloc_anse" style="display: none;">
                        <img src="./images/imagesbags/sangle-sangles-decalees.png" class="img_anse" alt="Sangles Avant">
                    </div>
                    <!-- Remplissage -->
                    <div class="bloc_remplissage" style="display: none;">
                        <img src="./images/imagesbags/remplissage-ouverture-totale-ourlet.png" class="img_remplissage" alt="Remplissage">
                    </div>
                    <!-- Vidange -->
                    <div class="bloc_vidange" style="display: none;">
                        <img src="./images/imagesbags/vidage-fond-plat.png" class="img_vidange" alt="Vidange">
                    </div>
                </div>
                <div class="configurator-options">
                    <div class="option-group">
                        <h3 class="option-title">
                            <i class="fas fa-cube"></i>
                            1/ Types de Big bag
                        </h3>
                        <div class="option-buttons">
                            <button class="option-btn active" data-type="bag" data-value="standard">
                                Standard (forme cylindrique après remplissage)
                            </button>
                            <button class="option-btn" data-type="bag" data-value="cubique-panneaux">
                                Cubique (anti déformant) par panneaux internes alvéolés
                            </button>
                            <button class="option-btn" data-type="bag" data-value="cubique-filets">
                                Cubique (anti déformant) par filets internes
                            </button>
                        </div>
                    </div>
                    <div class="option-group">
                        <h3 class="option-title">
                            <i class="fas fa-hand-paper"></i>
                            2/ Types de préhension
                        </h3>
                        <div class="option-buttons">
                            <button class="option-btn active" data-type="handle" data-value="decalees">
                                Sangles Décalées
                            </button>
                            <button class="option-btn" data-type="handle" data-value="laterales">
                                Sangles Latérales
                            </button>
                            <button class="option-btn" data-type="handle" data-value="fourreaux">
                                Fourreaux
                            </button>
                            <button class="option-btn" data-type="handle" data-value="anses">
                                Anses panier
                            </button>
                        </div>
                    </div>
                    <div class="option-group">
                        <h3 class="option-title">
                            <i class="fas fa-arrow-down"></i>
                            3/ Types de remplissage
                        </h3>
                        <div class="option-buttons">
                            <button class="option-btn active" data-type="remplissage" data-value="ourlet">
                                Ourlet
                            </button>
                            <button class="option-btn" data-type="remplissage" data-value="brut-coupe">
                                Brut de coupe
                            </button>
                            <button class="option-btn" data-type="remplissage" data-value="goulotte-chapeau">
                                Goulotte et Chapeau
                            </button>
                            <button class="option-btn" data-type="remplissage" data-value="goulotte-tremie">
                                Goulotte et Trémie
                            </button>
                            <button class="option-btn" data-type="remplissage" data-value="jupe">
                                Jupe
                            </button>
                        </div>
                    </div>
                    <div class="option-group">
                        <h3 class="option-title">
                            <i class="fas fa-arrow-up"></i>
                            4/ Types de vidage
                        </h3>
                        <div class="option-buttons">
                            <button class="option-btn active" data-type="vidage" data-value="fond-plat">
                                Fond plat
                            </button>
                            <button class="option-btn" data-type="vidage" data-value="goulotte">
                                Goulotte
                            </button>
                            <button class="option-btn" data-type="vidage" data-value="goulotte-bourse">
                                Goulotte et bourse
                            </button>
                            <button class="option-btn" data-type="vidage" data-value="goulotte-tremie">
                                Goulotte et Trémie
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="configurator-cta animate-on-scroll">
                <h3>D'autres options sont disponibles</h3>
                <p>Pour découvrir toutes nos possibilités de personnalisation, contactez notre équipe technique</p>
                <a href="./devis.html" class="btn">Demande d'infos</a>
            </div>
        </div>
    </section>


        <!-- Process Section -->
<section class="process-section">
    <div class="container">
        <div class="section-header animate-on-scroll">
            <h2 class="section-title">Notre Processus de Personnalisation des Big Bags</h2>
            <div class="divider"></div>
            <p class="section-subtitle">Chez Sarl STPA, chaque Big Bag est conçu selon un processus rigoureux garantissant qualité, sécurité et adaptation aux besoins spécifiques de nos clients</p>
        </div>
        <div class="timeline" id="timeline">
            <div class="timeline-line"></div>
            <div class="timeline-progress" id="progress"></div>
            <div class="process-step">
                <div class="step-icon">
                    <span style="font-weight: 700; font-size: 1.1rem;">01</span>
                </div>
                <div class="step-content">
                    <h3 class="step-title">Définition des besoins</h3>
                    <p class="step-description">
                        Tout commence par une écoute attentive du client. Nous identifions ensemble les dimensions, 
                        la charge utile, le type de Big Bag, les accessoires souhaités (goulottes, jupes, doublure, etc.), 
                        ainsi que les normes à respecter. Cela nous permet d'établir une fiche technique sur mesure.
                    </p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-icon">
                    <span style="font-weight: 700; font-size: 1.1rem;">02</span>
                </div>
                <div class="step-content">
                    <h3 class="step-title">Fabrication d'un échantillon</h3>
                    <p class="step-description">
                        Sur la base des spécifications validées, nous réalisons un échantillon prototype dans notre atelier. 
                        Ce modèle permet au client de visualiser le produit final et de confirmer la conformité aux 
                        exigences initiales.
                    </p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-icon">
                    <span style="font-weight: 700; font-size: 1.1rem;">03</span>
                </div>
                <div class="step-content">
                    <h3 class="step-title">Contrôle qualité et tests internes</h3>
                    <p class="step-description">
                        Avant toute validation, l'échantillon est soumis à des tests stricts : résistance des coutures, 
                        vérification dimensionnelle, qualité des finitions et tests de charge. Ces contrôles garantissent 
                        un haut niveau de fiabilité et de sécurité.
                    </p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-icon">
                    <span style="font-weight: 700; font-size: 1.1rem;">04</span>
                </div>
                <div class="step-content">
                    <h3 class="step-title">Test et validation par le client</h3>
                    <p class="step-description">
                        L'échantillon est ensuite envoyé au client pour des essais en conditions réelles. Il peut ainsi 
                        tester la compatibilité du Big Bag avec ses équipements et son usage. Une validation finale est 
                        nécessaire avant de passer à la production.
                    </p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-icon">
                    <span style="font-weight: 700; font-size: 1.1rem;">05</span>
                </div>
                <div class="step-content">
                    <h3 class="step-title">Lancement de la production</h3>
                    <p class="step-description">
                        Une fois le produit approuvé par le client, un bon de commande est établi et validé. Nous lançons 
                        alors la production en série, en respectant scrupuleusement le modèle validé et les normes de 
                        qualité attendues.
                    </p>
                </div>
            </div>
            <div class="process-step">
                <div class="step-icon">
                    <span style="font-weight: 700; font-size: 1.1rem;">06</span>
                </div>
                <div class="step-content">
                    <h3 class="step-title">Emballage et expédition</h3>
                    <p class="step-description">
                        Une fois la production terminée, les Big Bags sont soigneusement pliés, comptés et emballés selon 
                        les exigences du client (conditionnement en ballots, palettes, sacs plastifiés, etc.). Chaque lot 
                        est étiqueté pour assurer une traçabilité complète. Les produits finis sont ensuite transférés vers 
                        notre zone de stockage ou directement expédiés au client selon le planning convenu.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Examples Section -->
    <section class="examples-section">
        <div class="container">
            <div class="section-header animate-on-scroll">
                <h2 class="section-title">Exemples de Personnalisation</h2>
                <div class="divider"></div>
                <p class="section-subtitle">Découvrez quelques réalisations personnalisées pour nos clients</p>
            </div>
            
            <div class="examples-grid">
                <div class="example-card animate-on-scroll">
                    <div class="example-image">
                        <img src="./images/impressionlogo.jpg" alt="Impression Logo">
                    </div>
                    <div class="example-content">
                        <h3 class="example-title">Impression Logo</h3>
                        <p class="example-description">
                            Big bags personnalisés avec logo d'entreprise et informations de traçabilité 
                            pour une identification claire et professionnelle.
                        </p>
                    </div>
                </div>
                <div class="example-card animate-on-scroll">
                    <div class="example-image">
                        <img src="./images/dimensionspaciale.jpg" alt="Dimensions Spéciales">
                    </div>
                    <div class="example-content">
                        <h3 class="example-title">Dimensions Spéciales</h3>
                        <p class="example-description">
                            Formats sur mesure adaptés aux contraintes d'espace et aux besoins 
                            de stockage spécifiques de nos clients industriels.
                        </p>
                    </div>
                </div>
                <div class="example-card animate-on-scroll">
                    <div class="example-image">
                        <img src="./images/optionstechniques.jpg" alt="Options Techniques">
                    </div>
                    <div class="example-content">
                        <h3 class="example-title">Options Techniques</h3>
                        <p class="example-description">
                            Solutions techniques avancées avec systèmes de fermeture spéciaux 
                            et renforts adaptés aux produits sensibles.
                        </p>
                    </div>
                </div>
            </div>
                <!-- CTA Section -->
            <section class="section cta" id="cta">
                <div class="cta-section animate-on-scroll">
                    <div class="cta-content">
                        <h2 class="cta-title">Prêt à personnaliser vos produits ?</h2>
                        <p class="cta-description">Contactez-nous pour discuter de votre projet de personnalisation</p>
                        <button class="cta-button" onclick="window.location.href='contact.html'">
                            Commencer votre projet
                        </button>
                    </div>
                </div>
            </section>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <!-- À propos -->
                <div>
                    <div class="footer-logo">
                        <img src="images/Image1-DMEFS89n.svg" alt="STPA Logo" />
                    </div>
                    <p class="footer-text">
                        STPA est une entreprise algérienne spécialisée dans la transformation et la fabrication de Big Bags/ FIBC en polypropylène. Elle propose des solutions d'emballage résistantes et personnalisées.
                    </p>
                </div>
                <!-- Produits -->
                <div>
                    <h4 class="footer-heading">Produits</h4>
                    <ul class="footer-list">
                        <li><a href="./big-bags.html" class="footer-link">Big Bags</a></li>
                        <li><a href="./produits-intermediaires.html" class="footer-link">Produits Intermédiaires</a></li>
                        <li><a href="./personnalisation.html" class="footer-link">Personnalisation</a></li>
                    </ul>
                </div>
                <!-- Navigation -->
                <div>
                    <h4 class="footer-heading">Navigation</h4>
                    <ul class="footer-list">
                        <li><a href="./index.html" class="footer-link">Accueil</a></li>
                        <li><a href="./apropos.html" class="footer-link">À Propos</a></li>
                        <li><a href="#produits" class="footer-link">Produits</a></li>
                        <li><a href="./fabrication.html" class="footer-link">Fabrication</a></li>
                        <li><a href="./contact.html" class="footer-link">Contact</a></li>
                    </ul>
                </div>
                <!-- Contact -->
                <div>
                    <h4 class="footer-heading">Contact</h4>
                    <div class="footer-contact">
                        <div class="footer-contact-item">
                            <i class="fas fa-phone"></i>
                            <a href="tel:+213560999596" class="footer-link">+213(0)560999596</a>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-envelope"></i>
                            <a href="mailto:contact@sarlstpa.com" class="footer-link">contact@sarlstpa.com</a>
                        </div>
                        <div class="footer-contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span class="footer-address">
                                Zone Industrielle Helouane Ouzelaguen (w) Bejaia, Algérie
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Copyright -->
            <div class="footer-bottom">
                <p>© 2025 SARL STPA. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script src="./js/main.js"></script>
    <script>
        // Configurator functionality - COMPLETE
        const bagImages = {
            'standard': './images/imagesbags/sac-sac-cylindrique.png',
            'cubique-panneaux': './images/imagesbags/sac-sac-cubique-trou.png',
            'cubique-filets': './images/imagesbags/sac-sac-cubique.png'
        };

        // Images pour les sangles avant
        const handleImages = {
            'decalees': './images/imagesbags/sangle-sangles-decalees.png',
            'laterales': './images/imagesbags/sangle-sangles-laterales.png',
            'fourreaux': './images/imagesbags/sangle-fourreaux.png',
            'anses': './images/imagesbags/sangle-anses.png'
        };

        // Images pour les sangles arrière-plan (AP)
        const handleImagesAP = {
            'decalees': './images/imagesbags/sangle-sangles-decalees-AP.png',
            'laterales': './images/imagesbags/sangle-sangles-laterales-AP.png',
            'fourreaux': './images/imagesbags/sangle-fourreaux-AP.png',
            'anses': './images/imagesbags/sangle-anses-AP.png'
        };

        // Images pour le remplissage
        const remplissageImages = {
            'ourlet': './images/imagesbags/remplissage-ouverture-totale-ourlet.png',
            'brut-coupe': './images/imagesbags/remplissage-ouverture-totale-brut-de-coupe.png',
            'goulotte-chapeau': './images/imagesbags/remplissage-sac-cylindrique-chapeau-et-goulotte-de-remplissage.png',
            'jupe': './images/imagesbags/remplissage-sac-cylindrique-jupe.png',
            'goulotte-tremie': './images/imagesbags/remplissage-sac-cylindrique-tremie-haut-goulotte-de-remplissage.png'
        };

        // Images pour le vidage
        const vidageImages = {
            'fond-plat': './images/imagesbags/vidage-fond-plat.png',
            'goulotte': './images/imagesbags/vidage-goulotte-de-vidage.png',
            'goulotte-bourse': './images/imagesbags/vidage-sac-CUBIQUEV5-fond-plat-goulotte-bourse.png',
            'goulotte-tremie': './images/imagesbags/vidage-tremie-bas-goulotte-de-vidange.png'
        };

        function updateConfigurator(type, value) {
            if (type === 'bag') {
                const bagImg = document.querySelector('.img_sac');
                if (bagImg && bagImages[value]) {
                    bagImg.src = bagImages[value];
                }
            } else if (type === 'handle') {
                const handleDivFront = document.querySelector('.bloc_anse');
                const handleDivBack = document.querySelector('.bloc_anse_AP');
                const handleImgFront = document.querySelector('.img_anse');
                const handleImgBack = document.querySelector('.img_anse_AP');
                
                if (handleDivFront && handleDivBack && handleImgFront && handleImgBack) {
                    // Utiliser les images spécifiques pour avant et arrière
                    if (handleImages[value]) {
                        handleImgFront.src = handleImages[value];
                    }
                    if (handleImagesAP[value]) {
                        handleImgBack.src = handleImagesAP[value];
                    }
                    handleDivFront.style.display = 'block';
                    handleDivBack.style.display = 'block';
                }
            } else if (type === 'remplissage') {
                const remplissageDiv = document.querySelector('.bloc_remplissage');
                const remplissageImg = document.querySelector('.img_remplissage');
                
                if (remplissageDiv && remplissageImg && remplissageImages[value]) {
                    remplissageImg.src = remplissageImages[value];
                    remplissageDiv.style.display = 'block';
                }
            } else if (type === 'vidage') {
                const vidageDiv = document.querySelector('.bloc_vidange');
                const vidageImg = document.querySelector('.img_vidange');
                
                if (vidageDiv && vidageImg && vidageImages[value]) {
                    vidageImg.src = vidageImages[value];
                    vidageDiv.style.display = 'block';
                }
            }
        }

        // Initialize configurator
        document.addEventListener('DOMContentLoaded', function() {
            // Set defaults
            updateConfigurator('handle', 'decalees');
            updateConfigurator('remplissage', 'ourlet');
            updateConfigurator('vidage', 'fond-plat');
            
            // Add click handlers to option buttons
            const optionButtons = document.querySelectorAll('.option-btn');
            
            optionButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const type = this.dataset.type;
                    const value = this.dataset.value;
                    
                    // Remove active class from siblings
                    const siblings = this.parentElement.querySelectorAll('.option-btn');
                    siblings.forEach(sibling => sibling.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Update configurator
                    updateConfigurator(type, value);
                });
            });
        });

        function updateTimeline() {
            const timeline = document.getElementById('timeline');
            const progress = document.getElementById('progress');
            const steps = document.querySelectorAll('.process-step');
            
            // Calculer la progression linéaire de la timeline
            const timelineRect = timeline.getBoundingClientRect();
            const windowHeight = window.innerHeight;
            
            // Point de départ : quand le haut de la timeline atteint le centre de l'écran
            const startPoint = timelineRect.top - windowHeight * 0.5;
            // Point de fin : quand le bas de la timeline atteint le centre de l'écran
            const endPoint = timelineRect.bottom - windowHeight * 0.5;
            
            // Calculer le pourcentage de progression (0 à 1)
            let scrollProgress = 0;
            if (startPoint <= 0 && endPoint >= 0) {
                const totalDistance = Math.abs(startPoint) + endPoint;
                const currentDistance = Math.abs(startPoint);
                scrollProgress = Math.min(1, Math.max(0, currentDistance / totalDistance));
            } else if (endPoint < 0) {
                scrollProgress = 1; // Timeline complètement passée
            }
            
            // Appliquer la progression à la barre
            progress.style.height = (scrollProgress * 100) + '%';
            
            // Animation bidirectionnelle des étapes
            steps.forEach((step, index) => {
                const stepRect = step.getBoundingClientRect();
                
                // Afficher l'étape quand elle entre dans la zone visible (70% de la hauteur)
                if (stepRect.top < windowHeight * 0.7) {
                    if (!step.classList.contains('visible')) {
                        setTimeout(() => {
                            step.classList.add('visible');
                        }, index * 200);
                    }
                }
                // Masquer l'étape quand elle sort de la zone visible (remontée)
                else if (stepRect.bottom > windowHeight * 0.3) {
                    // L'étape est trop haute, on la masque
                    step.classList.remove('visible');
                }
            });
        }

        // Animation des éléments au scroll
        function animateOnScroll() {
            const elements = document.querySelectorAll('.animate-on-scroll');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 150);
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });

            elements.forEach(element => {
                observer.observe(element);
            });
        }

        // Animation des cartes de personnalisation
        function animateCustomizationCards() {
            const customizationCards = document.querySelectorAll('.customization-card');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 200);
                    }
                });
            }, {
                threshold: 0.2,
                rootMargin: '0px 0px -50px 0px'
            });

            customizationCards.forEach(card => {
                observer.observe(card);
            });
        }

        // Animation des cartes d'exemples
        function animateExampleCards() {
            const exampleCards = document.querySelectorAll('.example-card');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 200);
                    }
                });
            }, {
                threshold: 0.2,
                rootMargin: '0px 0px -50px 0px'
            });

            exampleCards.forEach(card => {
                observer.observe(card);
            });
        }

        // Optimisation avec requestAnimationFrame pour des performances fluides
        let ticking = false;
        
        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(updateTimeline);
                ticking = true;
            }
        }
        
        function handleScroll() {
            ticking = false;
            requestTick();
        }

        // Event listeners
        window.addEventListener('scroll', handleScroll);
        window.addEventListener('load', updateTimeline);
        window.addEventListener('resize', updateTimeline);

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            animateOnScroll();
            animateCustomizationCards();
            animateExampleCards();
            updateTimeline();
        });
    </script>
</body>
</html>